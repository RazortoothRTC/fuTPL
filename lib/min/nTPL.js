/*
 nTPL v.0.0.2;Copyright 2010, Fedor Indutny;Released under MIT license;Parts of code derived from jQuery JavaScript Library;Copyright (c) 2009 John Resig **/
this.nTPL=nTPL=function(m,r){(function(H,s,I,x,y,t,z,J,K,Q,L,u){function n(a){return function(b){return a.replace(L,b,a)}}function o(a){return function(){return a}}function A(a,b){if(b.w){var c=b.n,d;c&&p.watchFile(a,{persistent:true,interval:100},function(){p.readFile(a,function(h,f){if(!h)if(d=d||y[c])d(b.call(B,f.toString()))})})}}function M(a,b,c){C.exists(a,function(d){if(!d)return c(a);p.readFile(a,function(h,f){h&&c(a);c(f.toString())});A(a,b)});c(a)}function N(a,b){if(!C.existsSync(a))return a;
var c=p.readFileSync(a).toString();A(a,b);return c}function v(a,b,c,d,h){function f(i,D){function O(e,g,E){g=[m,j,e];for(E in b)g[g.length]=e[b[E]];return g}var l,j={$gid:I+=1},k,F=0,w;b instanceof Array?b[b.length]="$_":b=["$_"];if(w=i.match(z)){l=i?i.replace(K," ").replace(z,s).split(s).map(function(e,g){if(g%2){(g=e.match(J))&&(g.f=u[g[1]])&&(e=g.f(e.substr(g[0].length),j)||"");return e}if(!e)return"";j[b[b.length]="$"+(F+=1)]=e;return"$p($"+F+",$_);"}).join(""):"";try{k=H("(function(nTPL,$scope,$args,"+
b.join(",")+"){$_=[];function $p(a,$_){$_[$_.length]=a};"+l+";return $_.join('')})","nTPL.js")}catch(P){console.log("("+(c||"blank")+") >> "+P.toString());k=function(){return""}}}else k=function(){return i};if(this===B)return{i:k,namespace:j};y[c]=w?function(e){k=e.i;j=e.namespace}:function(e){i=e.i()};l=x[G]=w?function(e){e=e||{};for(c in j)e[c]=j[c];return k.apply(r,O(e))}:k;c&&(t[c]=l);if(D)D(l);else return l}var G,q;if(arguments.length==1&&(q=t[a]))return q;if(q=x[G=a+s+b])return t[c]=q;f.n=c;
f.w=h;if(d)M(a,f,function(i){f(i,d)});else return f(N(a,f))}var p=require("fs"),C=require("path"),B={};u={"=":n("$p(%1,$_);"),"if":n("if(%1){"),"else":o("}else{"),elseif:n("}else if(%1){"),"/if":o("}"),each:n("nTPL.each(%1,function($i){"),"/each":o("});"),"catch":n("%1=(function(){var $_=[];"),"/catch":o("return $_.join('')})();")};m=function(a){if(typeof a!=="object")return v.apply(this,arguments);var b=a.template,c=a.args,d=a.name;if(d&&!b&&!c)return v(d);if(b)return v(b,c||[],d,a.callback,a.watch)};
m.each=function(a,b,c){var d,h=0,f=a.length;if(f===r)for(d in a){if(!(!d||a[d]===r||!a.hasOwnProperty(d)))if(b.call(c||a[d],d,a[d])===false)break}else for(d=a[0];h<f&&b.call(c||d,h,d)!==false;d=a[h+=1]);return a};m.modificators=u})(process.compile,"\t",0,{},{},{},/{%|%}/g,/^([^\s]+)(?:\s|$)/,/\t/g,/\s+/g,/%1/);return m}();